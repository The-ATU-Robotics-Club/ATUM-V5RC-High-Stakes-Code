<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VURC Team ATUM: atum::ProfileFollower&lt; Unit &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="ATUM Logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">VURC Team ATUM
   </div>
   <div id="projectbrief">2024-2024 VURC Season: High Stakes</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classatum_1_1ProfileFollower.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classatum_1_1ProfileFollower-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">atum::ProfileFollower&lt; Unit &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This template class supports easily following a motion profile (lateral or angular depending on the template parameter).  
 <a href="classatum_1_1ProfileFollower.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="profileFollower_8hpp_source.html">profileFollower.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a2641b2058654c72edefa322996a85046"><td class="memItemLeft" align="right" valign="top"><a id="a2641b2058654c72edefa322996a85046" name="a2641b2058654c72edefa322996a85046"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>UnitsPerSecond</b> = decltype(Unit{1}/1_s)</td></tr>
<tr class="separator:a2641b2058654c72edefa322996a85046"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41a10b5d054218bd921e2d2b6d9b66c0"><td class="memItemLeft" align="right" valign="top"><a id="a41a10b5d054218bd921e2d2b6d9b66c0" name="a41a10b5d054218bd921e2d2b6d9b66c0"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>UnitsPerSecondSq</b> = decltype(UnitsPerSecond{1}/1_s)</td></tr>
<tr class="separator:a41a10b5d054218bd921e2d2b6d9b66c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10fc368eae035ffb4924a5f7fd8bb60c"><td class="memItemLeft" align="right" valign="top"><a id="a10fc368eae035ffb4924a5f7fd8bb60c" name="a10fc368eae035ffb4924a5f7fd8bb60c"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>UnitProfile</b> = <a class="el" href="classatum_1_1MotionProfile.html">MotionProfile</a>&lt; Unit &gt;</td></tr>
<tr class="separator:a10fc368eae035ffb4924a5f7fd8bb60c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e9e5c3f1c23f051ed55ac5e431eabfb"><td class="memItemLeft" align="right" valign="top"><a id="a9e9e5c3f1c23f051ed55ac5e431eabfb" name="a9e9e5c3f1c23f051ed55ac5e431eabfb"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>UnitAcceptable</b> = <a class="el" href="classatum_1_1Acceptable.html">Acceptable</a>&lt; Unit &gt;</td></tr>
<tr class="separator:a9e9e5c3f1c23f051ed55ac5e431eabfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a66f7b236272d66e048b57c060a6d3fad"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatum_1_1ProfileFollower.html#a66f7b236272d66e048b57c060a6d3fad">ProfileFollower</a> (const <a class="el" href="classatum_1_1MotionProfile.html">UnitProfile</a> &amp;iProfile, const <a class="el" href="classatum_1_1Acceptable.html">UnitAcceptable</a> &amp;iAcceptable, std::unique_ptr&lt; <a class="el" href="classatum_1_1Controller.html">Controller</a> &gt; iVelocityController, const <a class="el" href="structatum_1_1AccelerationConstants.html">AccelerationConstants</a> &amp;iKA, std::unique_ptr&lt; <a class="el" href="classatum_1_1Controller.html">Controller</a> &gt; iPositionController=nullptr, const Unit iPositionControlThreshold=Unit{infinite}, const double iTimeoutScaling=1.1, const <a class="el" href="classatum_1_1Logger.html#af914fa875adcdf7a15fa471f865a177b">Logger::Level</a> loggerLevel=Logger::Level::Info)</td></tr>
<tr class="memdesc:a66f7b236272d66e048b57c060a6d3fad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a new <a class="el" href="classatum_1_1ProfileFollower.html" title="This template class supports easily following a motion profile (lateral or angular depending on the t...">ProfileFollower</a> based on the given parameters.  <br /></td></tr>
<tr class="separator:a66f7b236272d66e048b57c060a6d3fad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c71165cbf75a89532f477e6e6fb54ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatum_1_1ProfileFollower.html#a0c71165cbf75a89532f477e6e6fb54ac">startProfile</a> (const Unit start, const Unit iEnd, const <a class="el" href="structatum_1_1MotionProfile_1_1Parameters.html">UnitProfile::Parameters</a> specialParams={})</td></tr>
<tr class="memdesc:a0c71165cbf75a89532f477e6e6fb54ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare to follow a new profile defined by the start and end positions. Involves reseting the controllers and acceptable object. Special parameters allow generating the profile with constraints different than the defaults.  <br /></td></tr>
<tr class="separator:a0c71165cbf75a89532f477e6e6fb54ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97881e559789063c7388ecfb503ee5d1"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatum_1_1ProfileFollower.html#a97881e559789063c7388ecfb503ee5d1">getOutput</a> (const Unit s, const UnitsPerSecond v)</td></tr>
<tr class="memdesc:a97881e559789063c7388ecfb503ee5d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the output of the follower based on the current position (s) and velocity (v) readings.  <br /></td></tr>
<tr class="separator:a97881e559789063c7388ecfb503ee5d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a4002bb3eee0fd81397fd4004dcd780"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatum_1_1ProfileFollower.html#a4a4002bb3eee0fd81397fd4004dcd780">isDone</a> ()</td></tr>
<tr class="memdesc:a4a4002bb3eee0fd81397fd4004dcd780"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if finished following the profile.  <br /></td></tr>
<tr class="separator:a4a4002bb3eee0fd81397fd4004dcd780"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename Unit&gt;<br />
class atum::ProfileFollower&lt; Unit &gt;</div><p>This template class supports easily following a motion profile (lateral or angular depending on the template parameter). </p>
<p>Start by tuning without polling position, before tuning the feedforward for the velocity controller, moving onto acceleration constants, before adding in velocity and position feedback.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Unit</td><td></td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a66f7b236272d66e048b57c060a6d3fad" name="a66f7b236272d66e048b57c060a6d3fad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66f7b236272d66e048b57c060a6d3fad">&#9670;&#160;</a></span>ProfileFollower()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Unit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classatum_1_1ProfileFollower.html">atum::ProfileFollower</a>&lt; Unit &gt;::ProfileFollower </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classatum_1_1MotionProfile.html">UnitProfile</a> &amp;&#160;</td>
          <td class="paramname"><em>iProfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classatum_1_1Acceptable.html">UnitAcceptable</a> &amp;&#160;</td>
          <td class="paramname"><em>iAcceptable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classatum_1_1Controller.html">Controller</a> &gt;&#160;</td>
          <td class="paramname"><em>iVelocityController</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structatum_1_1AccelerationConstants.html">AccelerationConstants</a> &amp;&#160;</td>
          <td class="paramname"><em>iKA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classatum_1_1Controller.html">Controller</a> &gt;&#160;</td>
          <td class="paramname"><em>iPositionController</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Unit&#160;</td>
          <td class="paramname"><em>iPositionControlThreshold</em> = <code>Unit{infinite}</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>iTimeoutScaling</em> = <code>1.1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classatum_1_1Logger.html#af914fa875adcdf7a15fa471f865a177b">Logger::Level</a>&#160;</td>
          <td class="paramname"><em>loggerLevel</em> = <code>Logger::Level::Info</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a new <a class="el" href="classatum_1_1ProfileFollower.html" title="This template class supports easily following a motion profile (lateral or angular depending on the t...">ProfileFollower</a> based on the given parameters. </p>
<p>The time out scaling parameter will be used to determine the time out on the profile by multiplying the profile's total time by it. Default is 10% longer than expected.</p>
<p>The position control threshold determines how far away from the end of the profile position control is employed. The default will use position control for the entire profile and base it off the current reference rather than the end.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iProfile</td><td></td></tr>
    <tr><td class="paramname">iAcceptable</td><td></td></tr>
    <tr><td class="paramname">iVelocityController</td><td></td></tr>
    <tr><td class="paramname">iKA</td><td></td></tr>
    <tr><td class="paramname">iPositionController</td><td></td></tr>
    <tr><td class="paramname">iPositionControlThreshold</td><td></td></tr>
    <tr><td class="paramname">iTimeoutScaling</td><td></td></tr>
    <tr><td class="paramname">loggerLevel</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a97881e559789063c7388ecfb503ee5d1" name="a97881e559789063c7388ecfb503ee5d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97881e559789063c7388ecfb503ee5d1">&#9670;&#160;</a></span>getOutput()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Unit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classatum_1_1ProfileFollower.html">atum::ProfileFollower</a>&lt; Unit &gt;::getOutput </td>
          <td>(</td>
          <td class="paramtype">const Unit&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const UnitsPerSecond&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the output of the follower based on the current position (s) and velocity (v) readings. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td></td></tr>
    <tr><td class="paramname">v</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>double </dd></dl>

</div>
</div>
<a id="a4a4002bb3eee0fd81397fd4004dcd780" name="a4a4002bb3eee0fd81397fd4004dcd780"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a4002bb3eee0fd81397fd4004dcd780">&#9670;&#160;</a></span>isDone()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Unit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classatum_1_1ProfileFollower.html">atum::ProfileFollower</a>&lt; Unit &gt;::isDone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if finished following the profile. </p>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

</div>
</div>
<a id="a0c71165cbf75a89532f477e6e6fb54ac" name="a0c71165cbf75a89532f477e6e6fb54ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c71165cbf75a89532f477e6e6fb54ac">&#9670;&#160;</a></span>startProfile()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Unit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classatum_1_1ProfileFollower.html">atum::ProfileFollower</a>&lt; Unit &gt;::startProfile </td>
          <td>(</td>
          <td class="paramtype">const Unit&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Unit&#160;</td>
          <td class="paramname"><em>iEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structatum_1_1MotionProfile_1_1Parameters.html">UnitProfile::Parameters</a>&#160;</td>
          <td class="paramname"><em>specialParams</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare to follow a new profile defined by the start and end positions. Involves reseting the controllers and acceptable object. Special parameters allow generating the profile with constraints different than the defaults. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">start</td><td></td></tr>
    <tr><td class="paramname">iEnd</td><td></td></tr>
    <tr><td class="paramname">specialParams</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/atum/motion/<a class="el" href="profileFollower_8hpp_source.html">profileFollower.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>atum</b></li><li class="navelem"><a class="el" href="classatum_1_1ProfileFollower.html">ProfileFollower</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
